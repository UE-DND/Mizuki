---
import PasswordProtection from "./PasswordProtection.astro";
import { encryptProtectedContent } from "@/server/crypto/protected-content";
import "../styles/markdown.css";
import "../styles/expressive-code.css";
import "../styles/encrypted-content.css";
import "../styles/markdown-extend.styl";

interface Props {
	password: string | number;
}

const { password } = Astro.props;

const htmlContent = await Astro.slots.render("default");

const encryptedContent = await encryptProtectedContent(
	htmlContent,
	String(password),
);
---

<PasswordProtection encryptedContent={encryptedContent} />
