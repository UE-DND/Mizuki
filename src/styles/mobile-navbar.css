/**
 * 导航栏半透明效果样式
 * Navbar Translucent Effects Styles
 * 只有当页面启用banner时才应用半透明效果
 */

/* 无banner时使用原始card-base样式，不添加额外的透明效果 */
/* 确保导航栏在没有banner时有基本的背景色和圆角（低优先级，不覆盖card-base） */
#navbar > div {
    background: var(--card-bg);
    border-radius: var(--radius-large);
    box-sizing: border-box;
    border: 1px solid transparent;
    overflow: hidden;
    /* MD3 标准过渡动画 - 使用标准缓动曲线和时长 */
    transition: background 0.3s cubic-bezier(0.2, 0, 0, 1),
                backdrop-filter 0.3s cubic-bezier(0.2, 0, 0, 1),
                box-shadow 0.3s cubic-bezier(0.2, 0, 0, 1),
                border 0.3s cubic-bezier(0.2, 0, 0, 1),
                border-radius 0.3s cubic-bezier(0.2, 0, 0, 1);
}

/* 兼容性加固：仅在 full 模式下强制白色，semi 模式回退到默认色 */
#navbar[data-transparent-mode="full"] #scheme-switch {
    color: rgba(255, 255, 255, 0.98) !important;
    text-shadow:
        0 1px 2px rgba(0, 0, 0, 0.45),
        0 0 2px rgba(0, 0, 0, 0.35) !important;
}

:root.dark #navbar[data-transparent-mode="full"] #scheme-switch {
    color: rgba(255, 255, 255, 0.96) !important;
    text-shadow:
        0 1px 2px rgba(0, 0, 0, 0.55),
        0 0 2px rgba(0, 0, 0, 0.35) !important;
}

/* 统一品牌按钮尺寸，避免模式切换产生位移 */
#navbar .navbar-brand {
    box-sizing: border-box;
    border: 1.5px solid transparent;
}

/* 半透明模式 - 桌面端在有banner时启用，移动端仅在有banner且为首页时启用 */
@media (min-width: 1024px) {
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] > div,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] > div {
        backdrop-filter: blur(24px) saturate(180%) !important;
        background: rgba(255, 255, 255, 0.85) !important;
        border: 1px solid rgba(255, 255, 255, 0.75) !important;
        border-radius: var(--radius-large) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
}

/* 移动端半透明模式 - 仅在有banner且为首页时启用 */
@media (max-width: 1023px) {
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"][data-is-home="true"] > div,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"][data-is-home="true"] > div {
    backdrop-filter: blur(24px) saturate(180%) !important;
    background: rgba(255, 255, 255, 0.85) !important;
    border: 1px solid rgba(255, 255, 255, 0.75) !important;
    border-radius: var(--radius-large) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

    }


/* 桌面端暗色主题下的半透明模式 - 在有banner时启用 */
@media (min-width: 1024px) {
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] > div,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] > div {
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        background: #141414 !important; /* MD3 深色表面，不透明 */
        border: 1px solid #2a2a2a !important; /* 中性描边，提升边界清晰度 */
        box-shadow: 0 6px 24px rgba(0, 0, 0, 0.35) !important; /* 更符合 MD3 的升起表面阴影 */
    }
}

/* 移动端暗色主题下的半透明模式 - 仅在有banner且为首页时启用 */
@media (max-width: 1023px) {
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="semi"][data-is-home="true"] > div,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"][data-is-home="true"] > div {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    background: #141414 !important; /* 不透明深色表面 */
    border: 1px solid #2a2a2a !important;
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.35) !important;
}

    }


/* 桌面端完全透明模式 - 在有banner时启用 */
@media (min-width: 1024px) {
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] > div,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] > div {
        backdrop-filter: none !important;
        background: transparent !important;
        border-color: transparent !important;
        border-radius: var(--radius-large) !important;
        box-shadow: none !important;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    }
}

/* 移动端完全透明模式 - 仅在有banner且为首页时启用 */
@media (max-width: 1023px) {
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] > div,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] > div {
    backdrop-filter: none !important;
    background: transparent !important;
    border-color: transparent !important;
    border-radius: var(--radius-large) !important;
    box-shadow: none !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

    }


/* 桌面端暗色主题下的完全透明模式 - 在有banner时启用 */
@media (min-width: 1024px) {
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] > div,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] > div {
        background: transparent !important;
        border-color: transparent !important;
        box-shadow: none !important;
    }
}

/* 移动端暗色主题下的完全透明模式 - 仅在有banner且为首页时启用 */
@media (max-width: 1023px) {
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] > div,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] > div {
    background: transparent !important;
    border-color: transparent !important;
    box-shadow: none !important;
    }
}

/* 导航栏标志在full透明模式下的优化 */
@media (min-width: 1024px) {
    /* 桌面端 - full透明模式下增强标志可读性 - 使用实心背景确保100%可见性 */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-brand,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand {
        /* 完全不透明的白色背景 */
        background: #ffffff !important;
        backdrop-filter: none !important;
        /* 添加阴影增强层次感 */
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15),
                    0 2px 8px rgba(0, 0, 0, 0.08),
                    inset 0 1px 0 rgba(255, 255, 255, 0.9) !important;
        /* 添加微妙的边框 */
        border: 1.5px solid #e0e0e0 !important;
        /* 确保圆角 */
        border-radius: 0.75rem !important;
        /* MD3 标准过渡动画 */
        transition: all 0.3s cubic-bezier(0.2, 0, 0, 1) !important;
    }

    /* 文字使用主题色，不需要复杂阴影 */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-content,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-content {
        color: var(--primary) !important;
        text-shadow: none !important;
        font-weight: 700 !important;
    }

    /* 图标使用主题色 */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-icon,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-icon {
        color: var(--primary) !important;
        filter: none !important;
    }

    /* 悬停时增强效果 */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-brand:hover,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand:hover {
        background: #f8f8f8 !important;
        border: 1.5px solid #d0d0d0 !important;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.18),
                    0 3px 10px rgba(0, 0, 0, 0.12),
                    0 0 0 1px rgba(0, 0, 0, 0.08) !important;
        transform: translateY(-2px) scale(1.02);
    }

    /* 暗色主题下的full透明模式 - 使用实心背景 */
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-brand,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand {
        /* 完全不透明的深色背景 */
        background: #1a1a1a !important;
        backdrop-filter: none !important;
        -webkit-backdrop-filter: none !important;
        border: 1.5px solid #333333 !important;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5),
                    0 2px 8px rgba(0, 0, 0, 0.3),
                    0 0 0 1px rgba(255, 255, 255, 0.05) !important;
        position: relative !important;
        z-index: 10 !important;
    }

    /* 暗色主题文字使用主题色 */
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-content,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-content {
        color: var(--primary) !important;
        text-shadow: none !important;
        font-weight: 700 !important;
    }

    /* 暗色主题图标 */
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-icon,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand .navbar-brand-icon {
        color: var(--primary) !important;
        filter: none !important;
    }

    /* 暗色主题悬停效果 */
    :root.dark #navbar[data-transparent-mode="full"] .navbar-brand:hover,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-brand:hover {
        background: #252525 !important;
        border: 1.5px solid #404040 !important;
        box-shadow: 0 6px 25px rgba(0, 0, 0, 0.6),
                    0 3px 10px rgba(0, 0, 0, 0.4),
                    0 0 0 1px rgba(255, 255, 255, 0.08) !important;
        transform: translateY(-2px) scale(1.02);
    }

    /* 图标悬停旋转效果 */
    #navbar[data-transparent-mode="full"] .navbar-brand:hover .text-\[1\.75rem\] {
        transform: rotate(10deg) scale(1.05);
    }
}

/* 桌面端 - full透明模式下增强菜单文字可读性 */
@media (min-width: 1024px) {
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:not(.navbar-brand):not(.theme-menu-item),
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:not(.navbar-brand):not(.theme-menu-item) {
        /* 浅色主题 + full 模式：改为接近纯白，保证在复杂背景上的整体对比 */
        color: rgba(255, 255, 255, 0.98) !important;
        /* 多层暗色阴影以提升边缘清晰度（避免在亮背景上“糊掉”） */
        text-shadow:
            0 1px 2px rgba(0, 0, 0, 0.45),
            0 0 2px rgba(0, 0, 0, 0.35) !important;
    }

    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .dropdown-arrow,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .dropdown-arrow {
        filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.35)) !important;
    }

    /* full模式下：顶级菜单图标基础可读性增强（仅 .navbar-links 内） */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain svg {
        /* 基础阴影，避免图标在亮背景上“糊掉” */
        filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.35));
        transition: filter 0.2s ease-out;
        /* 强制合成层，避免滤镜导致渲染抖动 */
        transform: translateZ(0);
    }

    /* full模式下：顶级菜单图标悬停/聚焦可见性增强（仅 .navbar-links 内） */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover svg,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible svg,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .dropdown-container:hover .btn-plain svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .dropdown-container:hover .btn-plain svg {
        filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.6)) drop-shadow(0 0 2px rgba(0, 0, 0, 0.45)) brightness(1.12) contrast(1.06) !important;
    }

    /* full模式下：主图标（左侧，带 .mr-2）在 hover/聚焦时添加轻度描边，提升边缘锐利度 */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover svg.mr-2,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover svg.mr-2 *,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover svg.mr-2,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover svg.mr-2 *,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible svg.mr-2,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible svg.mr-2 *,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible svg.mr-2,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible svg.mr-2 *,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .dropdown-container:hover .btn-plain svg.mr-2,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .dropdown-container:hover .btn-plain svg.mr-2 *,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .dropdown-container:hover .btn-plain svg.mr-2,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .dropdown-container:hover .btn-plain svg.mr-2 * {
        paint-order: stroke fill;
        stroke: rgba(0, 0, 0, 0.45);
        stroke-width: 0.5px;
        stroke-linejoin: round;
        stroke-linecap: round;
        vector-effect: non-scaling-stroke;
    }

    /* full模式下：hover/聚焦时提升背景对比度（仅顶级菜单 .navbar-links 内） */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:hover::before,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:hover::before,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:focus-visible::before,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:focus-visible::before {
        background: rgba(0, 0, 0, 0.20) !important;
    }
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:active::before,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:active::before {
        background: rgba(0, 0, 0, 0.28) !important;
    }

    /* full模式下：文字在 hover/聚焦时增加阴影提亮轮廓 */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover > .flex > span,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover > .flex > span,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible > .flex > span,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible > .flex > span {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.55), 0 0 2px rgba(0, 0, 0, 0.35) !important;
    }

    /* 可选加固：仅强化主题切换按钮图标颜色与阴影（不影响下拉面板项） */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] #scheme-switch,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] #scheme-switch {
        color: rgba(255, 255, 255, 0.98) !important;
        text-shadow:
            0 1px 2px rgba(0, 0, 0, 0.45),
            0 0 2px rgba(0, 0, 0, 0.35) !important;
    }

    

    /* full/semi 模式：主题切换按钮图标基础阴影（仅按钮本体） */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] #scheme-switch svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] #scheme-switch svg,
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] #scheme-switch svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] #scheme-switch svg {
        /* 基础阴影，避免图标在亮背景上“糊掉” */
        filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.35));
        transition: filter 0.2s ease-out;
        /* 强制合成层，避免滤镜导致渲染抖动 */
        transform: translateZ(0);
    }

    

    /* full/semi 模式：主题切换按钮图标在 hover/聚焦时添加轻度描边（不影响下拉面板项） */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] #scheme-switch:hover svg,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] #scheme-switch:hover svg *,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] #scheme-switch:hover svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] #scheme-switch:hover svg *,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] #scheme-switch:focus-visible svg,
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"] #scheme-switch:focus-visible svg *,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] #scheme-switch:focus-visible svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] #scheme-switch:focus-visible svg *,
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] #scheme-switch:hover svg,
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] #scheme-switch:hover svg *,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] #scheme-switch:hover svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] #scheme-switch:hover svg *,
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] #scheme-switch:focus-visible svg,
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] #scheme-switch:focus-visible svg *,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] #scheme-switch:focus-visible svg,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] #scheme-switch:focus-visible svg * {
        paint-order: stroke fill;
        stroke: rgba(0, 0, 0, 0.45);
        stroke-width: 0.5px;
        stroke-linejoin: round;
        stroke-linecap: round;
        vector-effect: non-scaling-stroke;
    }
}

/* 桌面端暗色主题 - full透明模式下增强菜单文字可读性 */
@media (min-width: 1024px) {
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:not(.navbar-brand):not(.theme-menu-item),
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:not(.navbar-brand):not(.theme-menu-item) {
        color: rgba(255, 255, 255, 0.96) !important;
        text-shadow:
            0 1px 2px rgba(0, 0, 0, 0.55),
            0 0 2px rgba(0, 0, 0, 0.35) !important;
    }

    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .dropdown-arrow,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .dropdown-arrow {
        filter: drop-shadow(0 1px 1px rgba(0, 0, 0, 0.6)) !important;
    }

    /* 暗色主题 full模式下：hover/聚焦的背景对比（白色蒙层） */
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:hover::before,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:hover::before,
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:focus-visible::before,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:focus-visible::before {
        background: rgba(255, 255, 255, 0.14) !important;
    }
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:active::before,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain.scale-animation:active::before {
        background: rgba(255, 255, 255, 0.22) !important;
    }

    /* 暗色主题 full模式下：文字 hover/聚焦时增强 */
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover > .flex > span,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:hover > .flex > span,
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible > .flex > span,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] .navbar-links .btn-plain:focus-visible > .flex > span {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.65), 0 0 2px rgba(0, 0, 0, 0.45) !important;
    }

    /* 可选加固：暗色主题下的主题切换按钮（仅按钮本体，不影响面板项） */
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"] #scheme-switch,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"] #scheme-switch {
        color: rgba(255, 255, 255, 0.96) !important;
        text-shadow:
            0 1px 2px rgba(0, 0, 0, 0.55),
            0 0 2px rgba(0, 0, 0, 0.35) !important;
    }

    
}

/* 导航栏标志在semi透明模式下的优化过渡 */
@media (min-width: 1024px) {
    #banner-wrapper ~ * #navbar[data-transparent-mode="semi"] .navbar-brand,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="semi"] .navbar-brand {
        /* MD3 标准过渡动画，确保从full到semi的平滑切换 */
        transition: all 0.3s cubic-bezier(0.2, 0, 0, 1) !important;
    }
}

/* 移动端 - full透明模式下增强标志可读性 */
@media (max-width: 1023px) {
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand {
        background: rgba(255, 255, 255, 0.8) !important;
        backdrop-filter: blur(16px) saturate(180%) !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    }

    /* 移动端文字增强 */
    #banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand div,
    body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand div {
        text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8),
                     0 2px 4px rgba(0, 0, 0, 0.15) !important;
    }

    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand {
        background: rgba(0, 0, 0, 0.8) !important;
        backdrop-filter: blur(16px) saturate(180%) !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
    }

    /* 移动端暗色主题文字增强 */
    :root.dark #banner-wrapper ~ * #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand div,
    :root.dark body:has(#banner-wrapper) #navbar[data-transparent-mode="full"][data-is-home="true"] .navbar-brand div {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8),
                     0 2px 4px rgba(0, 0, 0, 0.5) !important;
    }
}

/* 平板设备优化 */
@media (min-width: 768px) and (max-width: 1023px) {
    #navbar > div {
        border-radius: 1rem !important;
    }
}

/* 小屏手机优化 */
@media (max-width: 480px) {
    #navbar > div {
        border-radius: var(--radius-large) !important;
        margin: 0 0.25rem !important;
        padding-left: 1.25rem !important;
        padding-right: 1.25rem !important;
    }
}

/* 二级菜单、主题色、夜间模式菜单、手机端导航的半透明效果 */
/* 桌面端 - 在有banner时启用半透明效果 */
@media (min-width: 1024px) {
    /* 二级菜单半透明效果 */
    #banner-wrapper ~ * .dropdown-content,
    body:has(#banner-wrapper) .dropdown-content {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 主题色设置面板半透明效果 */
    #banner-wrapper ~ * #display-setting,
    body:has(#banner-wrapper) #display-setting {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 夜间模式菜单半透明效果 */
    #banner-wrapper ~ * #light-dark-panel .card-base,
    body:has(#banner-wrapper) #light-dark-panel .card-base {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 手机端导航菜单半透明效果 */
    #banner-wrapper ~ * #nav-menu-panel,
    body:has(#banner-wrapper) #nav-menu-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 翻译组件面板半透明效果 */
    #banner-wrapper ~ * #translate-panel,
    body:has(#banner-wrapper) #translate-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 手机端MD导航菜单面板半透明效果 */
    #banner-wrapper ~ * #mobile-toc-panel,
    body:has(#banner-wrapper) #mobile-toc-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 搜索面板半透明效果 */
    #banner-wrapper ~ * #search-panel,
    body:has(#banner-wrapper) #search-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }
}

/* 移动端 - 仅在有banner且为首页时启用半透明效果 */
@media (max-width: 1023px) {
    /* 二级菜单半透明效果 */
    #banner-wrapper ~ * #navbar[data-is-home="true"] .dropdown-content,
    body:has(#banner-wrapper) #navbar[data-is-home="true"] .dropdown-content {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 主题色设置面板半透明效果 */
    #banner-wrapper ~ * #navbar[data-is-home="true"] ~ * #display-setting,
    body:has(#banner-wrapper) #navbar[data-is-home="true"] ~ * #display-setting {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 夜间模式菜单半透明效果 */
    #banner-wrapper ~ * #navbar[data-is-home="true"] ~ * #light-dark-panel .card-base,
    body:has(#banner-wrapper) #navbar[data-is-home="true"] ~ * #light-dark-panel .card-base {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 手机端导航菜单半透明效果 */
    body:has(#banner-wrapper) #navbar[data-is-home="true"] #nav-menu-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 翻译组件面板半透明效果 */
    body:has(#banner-wrapper) #navbar[data-is-home="true"] #translate-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 手机端MD导航菜单面板半透明效果 */
    body:has(#banner-wrapper) #navbar[data-is-home="true"] #mobile-toc-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 搜索面板半透明效果 */
    body:has(#banner-wrapper) #navbar[data-is-home="true"] #search-panel {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }

    /* 主题色设置面板半透明效果 */
    body:has(#banner-wrapper) #navbar[data-is-home="true"] #display-setting {
        backdrop-filter: blur(20px) !important;
        background: rgba(255, 255, 255, 0.55) !important;
        border: 1px solid rgba(255, 255, 255, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
    }
}

/* 暗色主题下的半透明效果 */
/* 桌面端暗色主题 */
@media (min-width: 1024px) {
    /* 二级菜单暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * .dropdown-content,
    :root.dark body:has(#banner-wrapper) .dropdown-content {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 主题色设置面板暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #display-setting,
    :root.dark body:has(#banner-wrapper) #display-setting {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 夜间模式菜单暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #light-dark-panel .card-base,
    :root.dark body:has(#banner-wrapper) #light-dark-panel .card-base {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 手机端导航菜单暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #nav-menu-panel,
    :root.dark body:has(#banner-wrapper) #nav-menu-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 翻译组件面板暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #translate-panel,
    :root.dark body:has(#banner-wrapper) #translate-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 手机端MD导航菜单面板暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #mobile-toc-panel,
    :root.dark body:has(#banner-wrapper) #mobile-toc-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 搜索面板暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #search-panel,
    :root.dark body:has(#banner-wrapper) #search-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }
}

/* 移动端暗色主题 - 仅在有banner且为首页时启用 */
@media (max-width: 1023px) {
    /* 二级菜单暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #navbar[data-is-home="true"] .dropdown-content,
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] .dropdown-content {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 主题色设置面板暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #navbar[data-is-home="true"] ~ * #display-setting,
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] ~ * #display-setting {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 夜间模式菜单暗色主题半透明效果 */
    :root.dark #banner-wrapper ~ * #navbar[data-is-home="true"] ~ * #light-dark-panel .card-base,
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] ~ * #light-dark-panel .card-base {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 手机端导航菜单暗色主题半透明效果 */
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #nav-menu-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 翻译组件面板暗色主题半透明效果 */
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #translate-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 手机端MD导航菜单面板暗色主题半透明效果 */
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #mobile-toc-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 搜索面板暗色主题半透明效果 */
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #search-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 主题色设置面板暗色主题半透明效果 */
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #display-setting {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }

    /* 搜索面板暗色主题半透明效果 */
    :root.dark body:has(#banner-wrapper) #navbar[data-is-home="true"] #search-panel {
        background: rgba(0, 0, 0, 0.55) !important;
        border: 1px solid rgba(0, 0, 0, 0.55) !important;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
    }
}
